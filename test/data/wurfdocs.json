{
    "sphinx": {
        "type": "python",
        "scripts": [
            "sphinx-build -b html . ${output_path}"
        ],
        "requirements": "${source_path}/docs/requirements.txt",
        "cwd": "${source_path}/docs",
        "allow_failure": true,
        "recurse_tags": true,
        "variables": {
            "source_branch:master:output_path": "${build_path}/docs/latest",
            "source_branch:output_path": "${build_path}/sphinx/experiments/${name}",
            "tag:output_path": "${build_path]/docs/${name$}",
            "workingtree:output_path": "${build_path}/sphinx/experiments/workingtree"
        }
    },
    "landing_page": {
        "type": "python",
        "scripts": [
            "python generate.py --docspath=${build_path}/docs --outpath=${output_path}"
        ],
        "requirements": "${source_path}/landing_page/requirements.txt",
        "cwd": "${source_path}/landing_page",
        "allow_failure": true,
        "variables": {
            "source_branch:master:output_path": "${build_path}",
            "source_branch:output_path": "${build_path}/landing_page/experiments/${name}",
            "workingtree:output_path": "${build_path}/landing_page/experiments/workingtree"
        }
    },
    "publish": {
        "type": "push",
        "remote_branch": "gh_pages",
        "exclude_paths": [
            "{build_path}/landing_page/experiments/workingtree",
            "{build_path}/sphinx/experiments/workingtree"
        ],
        "remote_path": ".",
        "source_path": "${build_path}"
    }
}